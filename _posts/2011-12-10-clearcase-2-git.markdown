---
layout: post
title: 从ClearCase到Git-我的识道、行道、布道之旅
---
#{{ page.title }}

#介绍#
特别声明：本文专为图灵社区活动“唤醒你心中的布道师”而写，欢迎大家积极参与！
特别感想：本文的风格照搬高翌翔的”布道体“ [从自定义ORM框架到NHibernate――我的识道、行道、布道之旅](http://www.ituring.com.cn/article/712)

在企业中，版本控制系统多用ClearCase，因为在早期它有强大的企业应用的功能，无数的应用和流程也围着它转。长久以来，同事们都觉得它是必须的没法改变的了，哪怕用起来开始有很多局限性。

我做为一个软件开发的探索者，努力的想改变的什么，但不知从何而起。

#了解分布式版本控制（DVCS）――初识道#

这时是2009年初，svn是第一个考虑的对象，因为在开源中用的最多，sourceforge.net和eclipse的项目多用它，但我总觉得缺了点什么。

恰好有个[Geek](http://weibo.com/ch3n2k)谈到了分布式版本控制mercurial，不是很懂，说实话没有眼前一亮的感觉。聊了一下，感觉和svn的branch没有多大区别，还两层提交。

同时我也了解到还有其他的分布式版本控制git，bazaar。

#尝试在日常中使用分布式版本控制――初行道#

不管怎么样，我决定要在日常的开发中用用它，实践它，尽快的掌握它的关键。

由于geek对mercurial很熟，我就踏踏实实的用mercurial用了两个星期，不懂就问，然后查查资料 比较一番。

wooh,wooh，真是很神奇，很好用，特别对我的胃口，感觉天生是为软件开发用的。

同时我又比较深入的看了看其他的系统如git，发现git的生态圈更还一点（如eclipse开始决定用git)。补充一下，那时候bitbucket和github在同一个水平线上，google code也不支持git，只有mercurial和svn。 

#宣扬和推广分布式版本控制――初布道#

要在企业中换一个版本控制难度非常大，所以必须要造势，也就是此处的布道。

我们每月都有新东西分享学习的时间，我就推荐了mercurial、git两个课程，让大家共同来学习，了解它，顺便看看开发者对它的接受程度，有趣的是，水平越牛的人越是喜欢它，纷纷过来问什么时候能用。

另一方面，我抓到相关的人，就给他们介绍，当然他们会不同意我的观点（有强势的，有委婉的），我就试图去说服他们，也了解各个领域/领导对它接受程度，慢慢的我就开始拿到了一些说服他们的模板。

#详细研究版本迁移――再识道#

使用分布式版本控制的呼声越来越高，该到需要认真推行的时候了，研究报告（word，ppt)是不能缺少的了，这也给我一次从新认识集中式和分布式版本控制的过程。

研究报告就不细讲了（商业机密，哈哈），主要谈问题是什么，分布式版本控制，新的能改变什么，及带来的好处。

这一期间，当然学习了更多的知识，最终选定了git

#开始在小范围实施――再行道#

机缘巧合，git比较顺利的给方方面面的人接受了，我的报告难得那么顺利通过的。

然后就是认认真真的去实施了，这不是一个小问题，因为实施的好坏还涉及到自己的面子问题，讲笑了，既然是软件开发，来不得半点的马虎。

架好试验平台，小范围尝试，人手一本git的书，每人入门培训。

不错没出差错，虽然有蛮多技术难点的，不过都解决了。

#推广，并引入gerrit做代码审查――再布道

早期，用的是[gitolite](https://github.com/sitaramc/gitolite), 不错。不过后来发现[gerrit](http://code.google.com/p/gerrit/)更好用，就切换过去了。同一时候git开始在更多团队和更多产品中使用了。

gerrit有很强大的代码审查（code review)功能，因此这个功能也用上去了，代码提交的质量一下子上了一个档次

#结束语#

（此处引用高翌翔的文章）

子曰：己所不欲，勿施于人。因此，布道者在布道前，须识道、行道，而布道时应谨记“己之所欲，慎施于人”，身教重于言教，务必身体力行、以身示道！

我的识道、行道、布道之旅没有终点，希望能结识更多的同路人 ;-)

#其他#
本文用git记录在[github](https://github.com/larrycai/larrycai.github.com)。

如果对此文有兴趣，帮忙顶一下，别忘了 [@larrycaiyu](http://weibo.com/larrycaiyu) 希望有机会在QConf中分享。